#include <stdio.h>
#include <stdlib.h>

/* ---- Definición de nodo de árbol binario ---- */
typedef struct Node {
    int value;
    struct Node *left;
    struct Node *right;
} Node;

/* ---- Utilidades ---- */
Node* createNode(int value) {
    Node *n = (Node*)malloc(sizeof(Node));
    if (!n) {
        fprintf(stderr, "Error: no se pudo reservar memoria.\n");
        exit(EXIT_FAILURE);
    }
    n->value = value;
    n->left = n->right = NULL;
    return n;
}

void freeTree(Node *root) {
    if (!root) return;
    freeTree(root->left);
    freeTree(root->right);
    free(root);
}

/* ---- Recorridos ---- */
void preorder(Node *root) {          // Raíz, Izquierda, Derecha
    if (!root) return;
    printf("%d ", root->value);
    preorder(root->left);
    preorder(root->right);
}

void inorder(Node *root) {           // Izquierda, Raíz, Derecha
    if (!root) return;
    inorder(root->left);
    printf("%d ", root->value);
    inorder(root->right);
}

void postorder(Node *root) {         // Izquierda, Derecha, Raíz
    if (!root) return;
    postorder(root->left);
    postorder(root->right);
    printf("%d ", root->value);
}

int main(void) {
    /* Árbol de ejemplo (6 nodos):
                40
              /    \
            20      60
           /  \    /
         10   30  50
    */
    Node *root = createNode(40);
    root->left = createNode(20);
    root->right = createNode(60);
    root->left->left = createNode(10);
    root->left->right = createNode(30);
    root->right->left = createNode(50);

    printf("Pre-order:  ");
    preorder(root);
    printf("\n");

    printf("In-order:   ");
    inorder(root);
    printf("\n");

    printf("Post-order: ");
    postorder(root);
    printf("\n");

    freeTree(root);
    return 0;
}
